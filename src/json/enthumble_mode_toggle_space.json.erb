{
  "title": "enthumble(Windows App) Mode toggle 'Space'",
  "rule_list": false,
  "make_extra_description": true,
  "rules": [
    {
      "description": "(enthumble / toggle 'Space') Space + 「HJKL」 Mode / vi like",
      "extra_descriptions": [
        "スペース + H, J, K, L -> カーソル移動（←, ↓, ↑, →）",
        "スペース 単独 -> スペースキー"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["h", "j", "k", "l"],
                                dest_keys_list: ["left_arrow", "down_arrow", "up_arrow", "right_arrow"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["shift", "control", "caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space + 「WASD」 Mode / FPS like",
      "extra_descriptions": [
        "スペース + A, S, W, D -> カーソル移動（←, ↓, ↑, →）",
        "スペース 単独 -> スペースキー"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["a", "s", "w", "d"],
                                dest_keys_list: ["left_arrow", "down_arrow", "up_arrow", "right_arrow"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["shift", "control", "caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space + 「IJKL」 Mode / Normal Mode like",
      "extra_descriptions": [
        "スペース + I, J, K, L -> カーソル移動（←, ↓, ↑, →）",
        "スペース 単独 -> スペースキー"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["j", "k", "i", "l"],
                                dest_keys_list: ["left_arrow", "down_arrow", "up_arrow", "right_arrow"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["shift", "control", "caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space + 「FBNP」 Mode / Emacs like",
      "extra_descriptions": [
        "スペース + F, B, N, P -> カーソル移動（←, ↓, ↑, →）",
        "スペース 単独 -> スペースキー"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["b", "n", "p", "f"],
                                dest_keys_list: ["left_arrow", "down_arrow", "up_arrow", "right_arrow"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["shift", "control", "caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space + 「R/E」で「Return/Escape」",
      "extra_descriptions": [
        "スペース + R/E -> Enter/Escape",
        "'thumb IME'より下位に設定すると、'スペース + かな'はIMEオンになります。"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["caps_lock"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["r", "e"],
                                dest_keys_list: ["return_or_enter", "escape"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["shift", "control", "caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「N,M/',' '.'」で「BackSpace/Delete」",
      "extra_descriptions": [
        "Spacebar + N, M -> BackSpace",
        "Spacebar + ',' '.' -> Delete",
        "'FBNP Mode'と併用すると、'Spacebar + N'はカーソル移動になります。"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["n", "m", "comma", "period"],
                                dest_keys_list: ["delete_or_backspace", "delete_or_backspace", "delete_forward", "delete_forward"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「H,D/',' '.'」で「BackSpace/Delete」",
      "extra_descriptions": [
        "Spacebar + H, D -> BackSpace",
        "'HJKL Mode'と併用すると、'Spacebar + H'はカーソル移動になります。"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["h", "d"],
                                dest_keys_list: ["delete_or_backspace", "delete_forward"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「Y,U/I,O」で「BackSpace/Delete」",
      "extra_descriptions": [
        "Spacebar + Y, U -> BackSpace",
        "Spacebar + I, O -> Delete",
        "'IJKL Mode'と併用すると、'Spacebar  + I'はカーソル移動になります。"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["y", "u", "i", "o"],
                                dest_keys_list: ["delete_or_backspace", "delete_or_backspace", "delete_forward", "delete_forward"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「C,X,V」で「Copy,Cut,Paste」",
      "extra_descriptions": [
        "Spacebar + C,X,V -> Copy,Cut,Paste"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["c", "x", "v"],
                                dest_keys_list: ["c", "x", "v"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"],
                                to_modifiers: ["command"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「S,O」で「Save,Open」",
      "extra_descriptions": [
        "Spacebar + S,O -> Save,Open"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["s", "o"],
                                dest_keys_list: ["s", "o"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"],
                                to_modifiers: ["command"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「A,E」で「Ctrl-A, Ctrl-E」",
      "extra_descriptions": [
        "Spacebar + A,E -> Ctrl-A, Ctrl-E"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["a", "e"],
                                dest_keys_list: ["a", "e"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"],
                                to_modifiers: ["control"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「[」で「Escape」",
      "extra_descriptions": [
        "Spacebar + [ -> Escape"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["open_bracket"],
                                dest_keys_list: ["escape"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space +「tab」で「Command + Tab」",
      "extra_descriptions": [
        "Spacebar + Tab -> Command + Tab"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["tab"],
                                dest_keys_list: ["tab"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"],
                                to_modifiers: ["command"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'space') Space + 「1 - 10, -, ^」で「F1 - F12」",
      "extra_descriptions": [
        "Space + 1 -10, -, ^ -> F1 - F12"
      ],
      "extra_description_level": 1,
      "manipulators":
      <%=
        manipulators = each_key(
                                source_keys_list: ["spacebar"],
                                dest_keys_list: ["fn"],
                                from_optional_modifiers: ["any"],
                                to_if_alone: ["spacebar"],
                                as_lazy: true
                              )
        manipulators += each_key(
                                source_keys_list: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0", "hyphen", "equal_sign"],
                                dest_keys_list: ["f1", "f2", "f3", "f4", "f5", "f6", "f7", "f8", "f9", "f10", "f11", "f12"],
                                from_mandatory_modifiers: ["fn"],
                                from_optional_modifiers: ["caps_lock"]
                              )
        JSON.generate(manipulators)
      %>
    },
    {
      "description": "(enthumble / toggle 'Space') Space + 矢印キー（←, ↓, ↑, →）で「←, ↓, ↑, →」入力",
      "extra_descriptions": [
        "spacebar + 1 -10, -, ^ -> F1 - F12"
      ],
      "extra_description_level": 1,
      "manipulators": [
        {
          "type": "basic",
          "from": <%= from("spacebar", [], ["any"]) %>,
          "to": <%= to(["fn"]) %>,
          "to_if_alone": <%= to(["spacebar"]) %>
        },
        {
          "type": "basic",
          "from": <%= from("left_arrow", ["fn"], ["caps_lock"]) %>,
          "to": [
            { "shell_command": "osascript -e 'set the clipboard to \"←\"'" },
            { "shell_command": "osascript -e 'tell application \"System Events\" to keystroke \"v\" using command down'" }
          ]
        },
        {
          "type": "basic",
          "from": <%= from("down_arrow", ["fn"], ["caps_lock"]) %>,
          "to": [
            { "shell_command": "osascript -e 'set the clipboard to \"↓\"'" },
            { "shell_command": "osascript -e 'tell application \"System Events\" to keystroke \"v\" using command down'" }
          ]
        },
        {
          "type": "basic",
          "from": <%= from("up_arrow", ["fn"], ["caps_lock"]) %>,
          "to": [
            { "shell_command": "osascript -e 'set the clipboard to \"↑\"'" },
            { "shell_command": "osascript -e 'tell application \"System Events\" to keystroke \"v\" using command down'" }
          ]
        },
        {
          "type": "basic",
          "from": <%= from("right_arrow", ["fn"], ["caps_lock"]) %>,
          "to": [
            { "shell_command": "osascript -e 'set the clipboard to \"→\"'" },
            { "shell_command": "osascript -e 'tell application \"System Events\" to keystroke \"v\" using command down'" }
          ]
        }
      ]
    }
  ]
}
